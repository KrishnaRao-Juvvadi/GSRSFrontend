<h3>WIP: Import Demo </h3>
<div *ngIf = "!step || step === 1">

<div class = "file-select-container">
    <form [formGroup] = "uploadForm">      
            <div class = "full-row">
 
            <div class = "file-row ">
                    <div><button mat-raised-button (click)="openInput()">Select File to Upload</button></div>
                    <div class = "file-name" [ngClass] = "filename? 'test':'italics'">{{filename? filename: 'no file chosen'}}</div>
                    <input id="fileInput" hidden type="file" (change)="onFileSelect($event)" name="file1" accept=".gsrs, .ginas, .txt.gz">
            </div>

        
        </div>



        <div class = "full-row bottom" style = "width:850px" *ngIf = "filename && filename !== ''">
                <div style = "width:100%"><label>Select Importer </label><br/></div>

            <div class = "half-row importer-radio">
             <mat-radio-group placeholder="Adapter" name = "adapter"  (change) = "setAdapter($event)">
                    <div style = "height:32px; margin-right:15px;" *ngFor = "let adapter of demo" >
                            <mat-radio-button style = "width: 100%" value = '{{adapter.adapterKey}}'>{{adapter.adapterName}}</mat-radio-button>
                         </div>
                </mat-radio-group>
            
        </div>
           <div class = "half-row">
                <label> </label>
            <div style = "height:32px;" *ngFor = "let adapter of demo">Insert adapter Description, supported extensions: 
                <span *ngFor = "let ext of adapter.fileExtensions last as last">{{ext}}{{!last? ',':''}} </span><br/>
            </div>

        </div>
           </div>

              
              <div class = "full-row bottom">
                   <span class = "middle-fill"></span> 
                   <div><i>{{message}}</i></div>
                   <button (click) ="onSubmit()"  class = "mat-button mat-primary mat-flat-button" type="submit" [disabled] = "!adapterSettings || !filename">Upload</button>
                  <div class = "loading-spinner">
                        <mat-progress-spinner  [color]="accent" mode="indeterminate" diameter = "44" *ngIf = "processing">
                        </mat-progress-spinner>
                  </div>
                 

              </div>
       
        
      </form>
      </div>
    </div>




    <div *ngIf = "step && step === 3">
        <div class = "label-value" *ngFor = "let action of adapterSettings.fileImportActions, index as $index">
            <div class = "label">
                {{action.actionName}} 
            </div>
            <div class = "value-container">
                    <button mat-button (click) = "openAction( settingTemplate, $index)">Settings</button>
            </div>
        </div>
    </div>




    <ng-template #settingTemplate>
            <h3>Action Settings</h3>

        <div mat-dialog-content>

        <div class = "label-value" *ngFor = "let current of settingsActive.fields">
            <div class = "label">{{current.fieldLabel}}</div>
            <div class = "value-container">
                    <span class = "value" *ngIf = "current.defaultValue"><input mat-input [(ngModel)] = "current.defaultValue" /></span>
                    <span class = "value" *ngIf = "current.required !== undefined"><mat-checkbox [(ngModel)] = "current.required" >Required</mat-checkbox></span>        
            </div>     
        </div>
    </div>

        <div mat-dialog-actions align="end">
                <button mat-button mat-dialog-close>Save and Close (temp button)</button>
        </div>

    </ng-template>