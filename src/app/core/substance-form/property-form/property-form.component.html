<div class="property-form-container">
  <div *ngIf="isDeleted" class="notification-backdrop">
    Deleted
  </div>
  <div class="flex-column referenced-substance">
    <app-substance-selector (selectionUpdated)="referencedSubstanceUpdated($event)"
      eventCategory="substancePropertyReferencedSub" placeholder="Referenced Substance" header="Referenced Substance"
      [subuuid]="referencedSubstanceUuid">
    </app-substance-selector>
  </div>
  <div class="flex-column form-content">
    <div class="form-row">
      <div class="delete-container">
        <button mat-icon-button matTooltip="Delete property" (click)="deleteProperty()">
          <mat-icon svgIcon="delete_forever"></mat-icon>
        </button>
      </div>
      <mat-form-field class="name">
        <mat-label>Name *</mat-label>
        <mat-select [formControl]="propertyNameControl">
          <mat-option *ngFor="let propertyName of propertyNameList" [value]="propertyName.value">
            {{propertyName.display}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="type">
        <mat-label>Type</mat-label>
        <mat-select [formControl]="propertyTypeControl">
          <mat-option *ngFor="let propertyType of propertyTypeList" [value]="propertyType.value">
            {{propertyType.display}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <div class="checkbox-container column-checkbox">
        <mat-checkbox (change)="updateDefining($event)" [checked]="property.defining">
          Defining
        </mat-checkbox>
      </div>
      <div>
        <app-access-manager (accessOut)="updateAccess($event)" [access]="property.access">
        </app-access-manager>
      </div>
    </div>
    <div class="form-row">
      <div>
        <h4>
          Parameters
          <button mat-icon-button (click)="openPropertyParameter()" matTooltip="Add parameter">
            <mat-icon svgIcon="add_circle_outline"></mat-icon>
          </button>
        </h4>
        <mat-list *ngIf="property.parameters">
          <button mat-list-item (click)="openPropertyParameter(parameter)" *ngFor="let parameter of property.parameters">
            parameter
          </button>
        </mat-list>
      </div>
    </div>
  </div>
</div>
<div class="amount-form-container">
  <div class="amount-title">Amount</div>
  <app-amount-form [substanceAmount]="property.value"></app-amount-form>
</div>
<div class="form-row">
  <div class="references-container">
    <app-domain-references [referencesUuids]="property.references" #references></app-domain-references>
  </div>
</div>