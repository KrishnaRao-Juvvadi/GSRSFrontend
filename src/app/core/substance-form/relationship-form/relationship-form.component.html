<div class="relationship-form-container">
  <div *ngIf="isDeleted" class="notification-backdrop">
    Deleted
  </div>
  <div class="flex-column related-substance">
    <app-substance-selector (selectionUpdated)="relatedSubstanceUpdated($event)"
      eventCategory="substanceRelationshipRelatedSub" placeholder="Related Substance" header="Related Substance"
      [subuuid]="relatedSubstanceUuid">
    </app-substance-selector>
  </div>
  <div class="flex-column form-content">
    <div class="form-row">
      <div class="delete-container">
        <button mat-icon-button matTooltip="Delete relationship" (click)="deleteRelationship()">
          <mat-icon svgIcon="delete_forever"></mat-icon>
        </button>
      </div>
      <mat-form-field class="type">
        <mat-label>Type *</mat-label>
        <mat-select [formControl]="relationshipTypeControl">
          <mat-option *ngFor="let relationshipType of relationshipTypeList" [value]="relationshipType.value">
            {{relationshipType.display}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <div>
        <app-access-manager (accessOut)="updateAccess($event)" [access]="relationship.access">
        </app-access-manager>
      </div>
    </div>
    <div class="form-row">
      <mat-form-field class="qualification">
        <mat-label>Qualification</mat-label>
        <mat-select [formControl]="qualificationControl">
          <mat-option *ngFor="let qualification of qualificationList" [value]="qualification.value">
            {{qualification.display}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="interaction-type">
        <mat-label>Interaction Type</mat-label>
        <mat-select [formControl]="interactionTypeControl">
          <mat-option *ngFor="let interactionType of interactionTypeList" [value]="interactionType.value">
            {{interactionType.display}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="form-row">
      <mat-form-field class="comments">
        <textarea matInput placeholder="Comments" [formControl]="commentsControl"></textarea>
      </mat-form-field>
    </div>
  </div>
  <div class="flex-column mediator-substance">
    <app-substance-selector (selectionUpdated)="mediatorSubstanceUpdated($event)"
      eventCategory="substanceFormDefinitionType" placeholder="Mediator Substance" header="Mediator Substance"
      [subuuid]="mediatorSubstanceUuid">
    </app-substance-selector>
  </div>
</div>
<div class="amount-form-container">
  <div class="amount-title">Amount</div>
  <app-amount-form [substanceAmount]="relationship.amount"></app-amount-form>
</div>
<div class="form-row">
  <div class="references-container">
    <app-domain-references [referencesUuids]="relationship.references" #references></app-domain-references>
  </div>
</div>