<div class="code-form-container">
  <div *ngIf="mod.$$deletedCode" class="notification-backdrop">
    Deleted&nbsp;
    <button mat-icon-button matTooltip="Undo" (click)="undoDelete()">
      <mat-icon svgIcon="undo"></mat-icon>
    </button>
  </div>
  <div class="form-row">
    <div class = "form-sub-row">
    <div class="delete-container">
      <button mat-icon-button matTooltip="Delete code" (click)="deleteCode()">
        <mat-icon svgIcon="delete_forever"></mat-icon>
      </button>
    </div>
      <div class="flex-column form-content">
        <div class="form-row">

    <mat-form-field class="mod-type">
      <mat-label>Modification Type</mat-label>
      <mat-select [(ngModel)]="mod.structuralModificationType" required name="code">
        <mat-option *ngFor="let modType of  modTypeList" [value]=" modType.value">
          {{modType.display}}
        </mat-option>
      </mat-select>
    </mat-form-field>

          <div class = 'sites'>
            <div class="label">Sites</div>
            {{siteDisplay}}
            <button mat-icon-button matTooltip="Undo" (click)="(openDialog())">
              <mat-icon svgIcon="search"></mat-icon>
            </button>
          </div>

          <mat-form-field class="extent">
            <mat-label>Extent</mat-label>
            <mat-select [(ngModel)]="mod.extent" required  name="code">
              <mat-option *ngFor="let modType of modExtentList" [value]=" modType.value">
                {{modType.display}}
              </mat-option>
            </mat-select>
          </mat-form-field>

        </div>
        <div class = "form-row">

          <mat-form-field class="location-type">
            <mat-label>Location Type</mat-label>
            <mat-select [(ngModel)]="mod.locationType" required name="code">
              <mat-option *ngFor="let modType of  modLocationList" [value]=" modType.value">
                {{modType.display}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <div class = "group-access">
            <div class = 'form-row'>
              <mat-form-field class="group">
                <input matInput placeholder="Group" [(ngModel)]="mod.modificationGroup" required name="group" />
              </mat-form-field>
              <div class = "access">
                <app-access-manager (accessOut)="updateAccess($event)" [access]="mod.access">
                </app-access-manager>
              </div>
            </div>
          </div>



          <div class = 'amount' *ngIf = "mod.extent == 'PARTIAL'">
            <div class = "label">
              Amount
            </div>
            <button mat-icon-button matTooltip="add" (click)="(openAmountDialog())">
               <mat-icon svgIcon="add_circle_outline"></mat-icon>
            </button>
            <div *ngIf = "mod.extentAmount">
              {{displayAmount(mod.extentAmount)}}
            </div>

          </div>

        </div>



    </div>

  </div>
    <div class="flex-column related-substance">
      <app-substance-selector (selectionUpdated)="relatedSubstanceUpdated($event)"
                              eventCategory="substanceRelationshipRelatedSub" placeholder="Related Substance" header="Related Substance"
                              [subuuid]="relatedSubstanceUuid">
      </app-substance-selector>
    </div>
</div>
</div>
