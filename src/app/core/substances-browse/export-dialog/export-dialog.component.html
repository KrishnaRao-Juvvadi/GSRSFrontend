
  <div mat-dialog-header class = "top-label">
      <div style = "width:100%;display:flex;flex-direction:row;">

     
         <mat-form-field style = "width: 250px" class="testing">
                <mat-label>Use Export Preset Options: </mat-label> 
            <mat-select  name = "fileType" [(ngModel)]="loadedConfig" name="term" (ngModelChange)="switchConfig($event)" >
                  <mat-option *ngFor = "let option of options" [value]="option" > {{option.exporterKey ? option.exporterKey : 'no name'}}
                         </mat-option>
                </mat-select>
            </mat-form-field>
    
       
           <div style = "margin-top: 10px;margin-left: 50px;">
               <button *ngIf = "!data.hideOptionButtons" mat-flat-button color="primary" (click) = "toggleShowOptions()">{{ showOptions? 'Hide Preset Options' :'Edit Preset Options'}}</button>
              &nbsp; <button style = "margin-left:5px" mat-flat-button color="warn" *ngIf = "!data.hideOptionButtons && loadedConfig && loadedConfig.exporterKey !== 'ALL_DATA' && loadedConfig.exporterKey !== 'PUBLIC_DATA_ONLY' " (click) = "deleteConfig()"><mat-icon svgIcon="delete_forever"></mat-icon> Remove Preset</button>

        </div> 
        </div>
        
        </div>
   <mat-dialog-content>
   <mat-tab-group selectedIndex = "1"  class = "tab-group" *ngIf = "showOptions">
       
       
        <mat-tab  label= "Expander" >
                <sf-form [schema]="expanderSchema"  [model]="expanderModel" (onChange)="setValue($event.value, 'expander')" style = "margin-top:15px;"></sf-form>


        </mat-tab> 

    <mat-tab  label= "Scrubber" style = "margin-bottom:10px;">
         
    <br/>
    
    <sf-form [schema]="scrubberSchema"  [model]="scrubberModel" (onChange)="setValue($event.value, 'scrubber')" style = "margin-top:15px;"></sf-form>
    
    
    <!--   <h2 matDialogTitle>Enter a Filename</h2>
        <div class = "padding">
            Preparing download. Please enter a file name.
        </div>
        <div class = "dialog-row">
            <div>
                <mat-form-field class = "name-form">
                    <input matInput class = "name-field" type="text" placeholder="Filename" [(ngModel)] = "name">
                </mat-form-field>  
            </div>
            <div class = "format">.{{extension}}</div>
        </div>-->
        

    </mat-tab>
    <mat-tab  label= "Exporter Settings">
        <sf-form [schema]="exporterSchema"  [model]="exporterModel" (onChange)="setValue($event.value, 'exporter')" style = "margin-top:15px;"></sf-form>
    </mat-tab> 
    </mat-tab-group>
    <div style = "width:100%;display:flex;flex-direction:row;margin-top:15px">
            <div class = "padding" style = "margin-right: 10px;">
                Please enter a file name:
            </div>
            <div class = "dialog-row">
                <div>
                    <mat-form-field class = "name-form">
                        <input matInput class = "name-field" type="text" placeholder="Filename" [(ngModel)] = "name">
                    </mat-form-field>  
                </div>
                <div class = "format">.{{extension}}</div>
            </div>
            </div>
</mat-dialog-content>
    <mat-dialog-actions align="end">
            <div style = "width:100%;display:flex;flex-direction:row">
                <div *ngIf = "message" style = "font-weight: 500;margin:10px">{{message}}</div>
            </div>
            <button mat-flat-button color="primary"(click) = "cancel()">Cancel</button>
            <span class="middle-fill"></span>
            <mat-form-field  *ngIf = "showOptions"  style = "margin-right:10px"><input style = "margin-right:10px" matInput placeholder="Config Name" [(ngModel)]="configName" name="Config Name" /></mat-form-field>

            <button *ngIf = "showOptions" mat-flat-button color="primary" (click) = "saveConfig()" style = "margin-right:15px;" [disabled] = "!showOptions">Save New Config</button>
            <button  *ngIf = "showOptions" mat-flat-button color="primary" (click) = "updateConfig()" [disabled] = "!loadedConfig || loadedConfig.exporterKey === 'PUBLIC_DATA_ONLY' || loadedConfig.exporterKey === 'ALL_DATA'" style = "margin-right:15px;">Save Changes</button>

            <button mat-flat-button color="primary" (click) = "save()" >Export{{loadedConfig? '' : ' (no config)'}}</button>
        </mat-dialog-actions>