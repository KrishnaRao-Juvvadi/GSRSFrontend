<!--
<br>
<hr>
<br>
<span matBadge="{{applicationIngredientList.length}}" matBadgeColor="warn" matBadgeOverlap="false">
  <span class="title1">INGREDIENT</span>
</span>

<span class=""></span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<button mat-raised-button color="primary" (click)="addNewIngredient(0)" matTooltip="Add New Ingredient">
  <mat-icon svgIcon="add_circle_outline"></mat-icon>Add Ingredient
</button>


<div *ngFor="let ingredient of applicationIngredientList; let ingredIndex = index">
-->

<!--
</div> 
-->
<!-- loop ingredient -->

<!-- Buttons: delete, review -->
<div class="marginbottomminus17px padleft235px">
  <button mat-icon-button [ngStyle]="{'color':'orangered'}" [disabled]="totalIngredient == 1"
    (click)="confirmDeleteIngredient(prodIndex, ingredIndex)"
    matTooltip="Delete Ingredient Details {{ingredIndex + 1}}">
    <mat-icon [class.disabled]="totalIngredient == 1">delete_forever</mat-icon>
  </button>
  &nbsp;&nbsp;
  <button mat-icon-button [ngStyle]="{'color':'orangered'}" (click)="copyIngredient(ingredient, prodIndex)"
    matTooltip="Copy Ingredient Details {{ingredIndex + 1}} to New Ingredient">
    <mat-icon>file_copy</mat-icon>
  </button>
  &nbsp;&nbsp;
  <button mat-icon-button [ngStyle]="{'color':'orangered'}" (click)="reviewIngredient(prodIndex, ingredIndex)"
    matTooltip="Click to Confirm Ingredient Details {{ingredIndex + 1}} data has been Reviewed">
    <mat-icon>check_circle</mat-icon>
  </button>
</div>

<!-- Ingredient Details -->
<fieldset class="border">
  <legend class="border">Ingredient Details&nbsp;<b><span class="font17px">{{ingredIndex + 1}}</span></b></legend>

  <div class="divflexrow">
    <mat-form-field class="col-1">
      <input matInput placeholder="Applicant Ingredient Name" [(ngModel)]="ingredient.applicantIngredName"
        name="applicantIngredName" />
    </mat-form-field>

    <!-- Ingredient Name -->
    <div class="flex-column related-substance">
      <div class="related-substance-border">
        <app-substance-selector (selectionUpdated)="ingredientNameUpdated($event, ingredIndex)"
          eventCategory="ingredName" placeholder="Ingredient Name" header="Ingredient Name"
          [subuuid]="ingredientNameSubstanceUuid">
        </app-substance-selector>
        <div *ngIf="ingredientNameMessage" class="colorred font12px">
          {{ingredientNameMessage}}
        </div>
        <div class="padall5px" *ngIf="ingredient.bdnum">
          Bdnum:&nbsp;{{ingredient.bdnum}}
          <br>
          <button mat-icon-button color="primary"
            (click)="confirmDeleteIngredientName(prodIndex, ingredIndex)"
            matTooltip="Delete Ingredient Name {{ingredIndex + 1}}">
            <mat-icon>delete_forever</mat-icon>
          </button>
        </div>
      
      </div>
    </div>

    <!-- Basis of Strength -->
    <div class="flex-column related-substance">
      <div class="related-substance-border">
        <app-substance-selector (selectionUpdated)="basisOfStrengthUpdated($event)"
          eventCategory="substanceRelationshipRelatedSub" placeholder="Basis Of Strength" header="Basis Of Strength"
          [subuuid]="basisofStrengthSubstanceUuid">
        </app-substance-selector>

        <div *ngIf="basisOfStrengthMessage" class="colorred font12px">
          {{basisOfStrengthMessage}}
        </div>
        <div class="padall5px" *ngIf="ingredient.basisOfStrengthBdnum">
          Bdnum:&nbsp;{{ingredient.basisOfStrengthBdnum}}
          <br>
          <button mat-icon-button color="primary"
            (click)="confirmDeleteBasisOfStrength(prodIndex, ingredIndex)"
            matTooltip="Delete Basis of Strength {{ingredIndex + 1}}">
            <mat-icon>delete_forever</mat-icon>
          </button>
        </div>

      </div>
    </div>
  </div>

  <div class="row margintop10px">
    <mat-form-field class="col-1">
      <mat-label>Ingredient Type</mat-label>
      <mat-select matNativeControl [(ngModel)]="ingredient.ingredientType" name="ingredientType">
        <mat-option *ngFor="let ingredientType of ingredientTypeList" [value]="ingredientType.value">
          {{ingredientType.display}}
        </mat-option>
      </mat-select>
    </mat-form-field>


    <mat-form-field class="col-1">
      <input matInput placeholder="Average" [(ngModel)]="ingredient.average" name="average" />
    </mat-form-field>

    <mat-form-field class="col-1">
      <input matInput placeholder="Low" [(ngModel)]="ingredient.low" name="low" />
    </mat-form-field>

    <mat-form-field class="col-1">
      <input matInput placeholder="High" [(ngModel)]="ingredient.high" name="high" />
    </mat-form-field>

    <mat-form-field class="col-1">
      <mat-label>Unit</mat-label>
      <mat-select matNativeControl [(ngModel)]="ingredient.unit" name="unit">
        <mat-option *ngFor="let unit of unitList" [value]="unit.value">
          {{unit.display}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="col-1">
      <mat-label>Grade</mat-label>
      <mat-select matNativeControl [(ngModel)]="ingredient.grade" name="grade">
        <mat-option *ngFor="let grade of gradeList" [value]="grade.value">
          {{grade.display}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div> <!-- row-->
</fieldset>
<br>