<br><br><br>
<h3>Browse Applications</h3>

{{facets.length}}

<mat-sidenav-container>
  
  <mat-sidenav #matSideNavInstance mode="side" opened="false">

    <mat-accordion multi="true">
      <mat-expansion-panel *ngFor="let facet of facets" [expanded]="facetParams[facet.name] != null">
        
        <mat-expansion-panel-header>
            <mat-panel-title>
              {{facet.name}}
            </mat-panel-title>
        </mat-expansion-panel-header>
      
      
      
      </mat-expansion-panel>  
    </mat-accordion>  
  </mat-sidenav>

  <mat-sidenav-content>
 
    <!-- Pagination -->
    <div>
      <mat-paginator #paginator [length]="totalApplications" [pageIndex]="pageIndex" [pageSize]="pageSize" [pageSizeOptions]="[5, 10, 50, 100]"
      (page)="changePage($event)">
      </mat-paginator>
    </div>

    <button class="expand-sidenav mat-elevation-z4" (click)="openSideNav()">
      <mat-icon svgIcon="chevron_right"></mat-icon>
    </button>

    <!-- Display Content Details -->
    <div class="substance-cards">
      
      <mat-card *ngFor="let application of applications">
        
        <mat-card-title>
          <a class="substance-name" [routerLink]="['/applicationssrs', application.id]">
            {{application.appType}}&nbsp;{{application.appNumber}}
          </a>
          <span class="middle-fill"></span>
          <a class="approval-id">
            Status: {{application.status}}
          </a>
        </mat-card-title>
        
        <mat-card-content>
            <div class="substance-data">
                <div class="label">App Sub Type:</div>
                <div>
                  <span class="value">{{application.appSubType}}</span>
                </div>
            </div>
            <div class="substance-data">
                <div class="label">Submit Date:</div>
                <div>
                  <span class="value">{{application.submitDate}}</span>
                </div>
            </div>
            <div class="substance-data">
                <div class="label">Status Date:</div>
                <div>
                  <span class="value">{{application.statusDate}}</span>
                </div>
            </div>
            <div class="substance-data">
                <div class="label">Center:</div>
                <div>
                  <span class="value">{{application.center}}</span>
                </div>
            </div>
            <div class="substance-data" *ngIf="application.title">
                <div class="label">Title:</div>
                <div>
                  <span class="value">{{application.title}}</span>
                </div>
            </div>

        </mat-card-content>

      </mat-card>  
    </div>

  </mat-sidenav-content>  

</mat-sidenav-container>