<div *ngIf="clinicalTrial">
	<div>{{clinicalTrial.nctNumber}}</div>
	<div>{{clinicalTrial.title}}</div>
	<div>{{clinicalTrial.lastUpdated|date : "MM/dd/yyyy"}}</div>	
</div>

<div *ngIf="miniSearchOutputReported">

xyz: {{miniSearchOutputReported}}
</div>
<div class="example-container mat-elevation-z8">
	<!-- div class="example-header">
		<mat-form-field>
			<input matInput #filter (keyup)="applyFilter($event.target.value)" placeholder="Filter">
			<button mat-icon-button matSuffix aria-label="clear" *ngIf="filter.value" (click)="filter.value=''; applyFilter('');">
        <mat-icon>close</mat-icon>
      </button>
		</mat-form-field>
	</div -->
	<div>
		<button mat-icon-button matSuffix aria-label="Add" (click)="addRow();">Add</button>
	</div>

	<mat-table #table [dataSource]="dataSource">
<!--
		<ng-container matColumnDef="index">
			<th mat-header-cell *matHeaderCellDef mat-sort-header>Index</th>
			<td mat-cell *matCellDef="let element; let i = index">{{i}}</td>
		  </ng-container>
-->
		<!-- id  -->
		<ng-container matColumnDef="id">
			<mat-header-cell *matHeaderCellDef>ID</mat-header-cell>
			<mat-cell *matCellDef="let element">
				<mat-form-field floatLabel="never">
					<input disabled matInput placeholder="id" [value]="element.id" [(ngModel)]="element.id">
				</mat-form-field>
			</mat-cell>
		</ng-container>
		<!-- name -->
		<ng-container matColumnDef="name">
			<mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
			<mat-cell *matCellDef="let element; let i = index;">
				<mini-search [myIndex]="i" [myInitialSearch]="element && element.name" (miniSearchOutput)="reportMiniSearchOutput($event)"></mini-search>
			</mat-cell>
		</ng-container>
		<!-- bdnum -->
		<ng-container matColumnDef="bdnum">
			<mat-header-cell *matHeaderCellDef> bdnum </mat-header-cell>
			<mat-cell *matCellDef="let element">
				<mat-form-field floatLabel="never">
					<input matInput placeholder="bdnum" [value]="element.bdnum" [(ngModel)]="element.bdnum">
				</mat-form-field>
			</mat-cell>
		</ng-container>
		<!-- bdnum -->
		<ng-container matColumnDef="Delete">
				<mat-header-cell *matHeaderCellDef>Delete</mat-header-cell>
				<mat-cell *matCellDef="let element; let i = index">
					<button mat-icon-button matSuffix aria-label="Del" (click)="removeRow(i);">Del</button>
				</mat-cell>
			</ng-container>
	
		<mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
		<mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

	</mat-table>
	<div>
		<button mat-icon-button matSuffix aria-label="Update Clinical Trial" (click)="updateClinicalTrial();">Update</button>
	</div>
	<div *ngIf="clinicalTrial">
		<div>{{clinicalTrial|json}}</div>
	</div>
	<div *ngIf="dataSource.data">
		<div>{{dataSource.data|json}}</div>
	</div>
</div>
